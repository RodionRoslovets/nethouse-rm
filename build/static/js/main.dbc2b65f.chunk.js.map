{"version":3,"sources":["components/character.module.css","components/characterListItem.module.css","components/characterList.module.css","reducers/mainReducer.js","helpers/getCharacters.js","components/charListItem.js","components/charList.js","pages/main.js","components/character.js","pages/character.js","App.js","index.js"],"names":["module","exports","reducer","state","action","type","payload","info","results","url","a","axios","get","getCharacters","CharListItem","src","name","id","className","style","charListItem","to","alt","CharList","processedChars","chars","map","char","image","charList","Main","useReducer","data","dispatch","useState","error","setError","next","then","res","catch","useEffect","fetchData","onChange","inView","loadMore","Character","character","status","character__status_alive","character__status_dead","character__status_unknown","character__description","gender","location","CharacterPage","setCharacter","useLocation","pathname","slice","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dbc2b65f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"character\":\"character_character__2RiY9\",\"character__description\":\"character_character__description__2CGJH\",\"character__status_alive\":\"character_character__status_alive__105hx\",\"character__status_dead\":\"character_character__status_dead__2zcJ4\",\"character__status_unknown\":\"character_character__status_unknown__2fYM6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"charListItem\":\"characterListItem_charListItem__3GVbk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"charList\":\"characterList_charList__Jc745\"};","export function reducer(state, action){\r\n    switch (action.type){\r\n        case \"INIT\":\r\n            return action.payload\r\n        case \"LOADMORE\" :\r\n            return {\r\n                info:{...action.payload.info},\r\n                results:[...state.results, ...action.payload.results]\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}","import axios from 'axios'\r\n\r\nasync function getCharacters(url){\r\n    return await axios.get(url)\r\n}\r\n\r\nexport default getCharacters;","import React from 'react';\r\nimport {Link} from 'react-router-dom'\r\nimport style from './characterListItem.module.css'\r\n\r\nconst CharListItem = ({src, name, id}) => {\r\n    return ( \r\n        <li className={style.charListItem}>\r\n            <Link to={`char/${id}`}>\r\n                <figure>\r\n                    <img src={src} alt={name}/>\r\n                </figure>\r\n                <p>{name}</p>\r\n            </Link>\r\n        </li>\r\n     );\r\n}\r\n \r\nexport default CharListItem;","import React from 'react';\r\nimport CharListItem from './charListItem'\r\nimport style from './characterList.module.css'\r\n\r\nconst CharList = ({chars}) => {\r\n    let processedChars = chars.map(char=>(\r\n        <CharListItem \r\n            key={char.id}\r\n            id={char.id}\r\n            name={char.name}\r\n            src={char.image}\r\n        />\r\n    ))\r\n    return ( \r\n        <ul className={style.charList}>\r\n            {processedChars}\r\n        </ul>\r\n     );\r\n}\r\n \r\nexport default CharList;","import React, { useReducer, useEffect, useState } from 'react';\r\nimport {reducer} from '../reducers/mainReducer';\r\nimport getCharacters from '../helpers/getCharacters';\r\nimport CharList from '../components/charList'\r\nimport { InView } from 'react-intersection-observer';\r\n\r\nconst Main = () => {\r\n    let [data, dispatch] = useReducer(reducer)\r\n\r\n    let [error, setError] = useState('')\r\n\r\n    useEffect( ()=>{\r\n        async function fetchData(){\r\n        await getCharacters('https://rickandmortyapi.com/api/character')\r\n                .then(res=>dispatch({type:'INIT', payload:res.data}))\r\n                .catch(()=>{setError('Загрузка не удалась')})\r\n        }\r\n\r\n        fetchData()\r\n    }, [])\r\n\r\n    async function loadMore(){\r\n        if(data.info.next){\r\n            await getCharacters(data.info.next)\r\n            .then(res=>dispatch({type:'LOADMORE', payload:res.data}))\r\n            .catch(()=>{setError('Загрузка не удалась')})\r\n        }\r\n    }\r\n    return ( \r\n        <div>\r\n            {data ? \r\n                <>\r\n                <CharList chars={data.results}/>\r\n                <InView onChange={(inView)=>inView && data.info ? loadMore() : null}>\r\n                </InView>\r\n                </>\r\n            : null}\r\n            {error ? <p className=\"error\">{error}</p> : null}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\nimport style from './character.module.css'\r\n\r\nconst Character = ({character}) => {\r\n    let status = ''\r\n    switch(character.status){\r\n        case 'Alive':\r\n            status = style.character__status_alive\r\n            break\r\n        case 'Dead':\r\n            status = style.character__status_dead\r\n            break\r\n        default:\r\n            status = style.character__status_unknown\r\n            break\r\n    }\r\n\r\n    return ( \r\n        <div className={style.character}>\r\n            <figure><img src={character.image} alt={character.name} /></figure>\r\n            <div className={style.character__description}>\r\n                <p>Name: {character.name}</p>\r\n                <p>Status: <span className={status}>{character.status}</span></p>\r\n                <p>Gender: {character.gender}</p>        \r\n                <p>Location: {character.location.name}</p>\r\n            </div>\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default Character;","import React, { useState, useEffect } from 'react'\r\nimport getCharacters from '../helpers/getCharacters'\r\nimport {useLocation} from 'react-router-dom'\r\nimport Character from '../components/character'\r\n\r\nconst CharacterPage = () => {\r\n    let [character, setCharacter] = useState({})\r\n    let [error, setError] = useState('')\r\n    let loc = useLocation()\r\n    let id = +loc.pathname.slice(6)\r\n\r\n    useEffect(\r\n        ()=>{\r\n            async function fetchData(){\r\n                await getCharacters(`https://rickandmortyapi.com/api/character/${id}`)\r\n                        .then(res=>setCharacter(res.data))\r\n                        .catch(()=>{setError('Загрузка не удалась')})\r\n            }\r\n    \r\n            fetchData()\r\n        }, [] \r\n    )\r\n    return (\r\n        <>\r\n            {character.id ? <Character character={character} /> : null}\r\n            {error ? <p className=\"error\">{error}</p> : null}\r\n        </>\r\n     );\r\n}\r\n \r\nexport default CharacterPage;","import React from 'react'\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\nimport Main from './pages/main'\nimport CharacterPage from './pages/character'\n\nfunction App() {\n  \n\n  return (\n    <Router>\n      <Switch>\n        <Route exact path='/'>\n          <Main/>\n        </Route>\n        <Route path='/char'>\n          <CharacterPage />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}